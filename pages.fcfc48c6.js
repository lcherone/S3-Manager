parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"lcci":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=s(require("crypto-js/aes")),t=s(require("crypto-js/enc-utf8"));function s(e){return e&&e.__esModule?e:{default:e}}var r={data:function(){return{state:{host_editing:{}},form:{errors:{},values:{name:"",url:"",accessKey:"",secretKey:""}}}},watch:{"$parent.state.host_editing":function(e){e&&(this.state.host_editing=e,this.init(e))}},mounted:function(){this.state.host_editing=this.$parent.state.host_editing,this.init(this.$parent.state.host_editing)},methods:{init:function(e){console.log("d",e),void 0!==e&&(this.form.errors={},this.$set(this.form,"values",{name:e.name,url:e.url,accessKey:e.accessKey,secretKey:e.secretKey}))},submit:function(){if(this.form.errors={},this.form.values.name||(this.form.errors.name="Name is a required field."),this.form.values.url||(this.form.errors.url="URL is a required field."),this.form.values.accessKey||(this.form.errors.accessKey="Access Key is a required field."),this.form.values.secretKey||(this.form.errors.secretKey="Access Secret is a required field."),Object.keys(this.form.errors).length)return!1;try{var s=e.default.decrypt(localStorage.state,this.$parent.state.password).toString(t.default);return delete(s=JSON.parse(s)).hosts[this.state.host_editing.name],s.hosts[this.form.values.name]={url:this.form.values.url,accessKey:this.form.values.accessKey,secretKey:this.form.values.secretKey},this.$parent.state.hosts=s.hosts,delete s.password,delete s.host,localStorage.state=e.default.encrypt(JSON.stringify(s),this.$parent.state.password).toString(),this.form.values={name:"",url:"",accessKey:"",secretKey:""},this.$modal.close(),!0}catch(r){return this.form.errors.global="An error occurred when saving state, refresh the page and try again.",!1}},isValidPassword:function(e){return/(?=^.{8,256}$)((?=.*\d)|(?=.*\W+))(?![.\n])(?=.*[A-Z])(?=.*[a-z]).*/.test(e)}}};exports.default=r;
(function(){var e=exports.default||module.exports;"function"==typeof e&&(e=e.options),Object.assign(e,{render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"modal-dialog modal-md",attrs:{role:"document"}},[s("div",{staticClass:"modal-content"},[s("div",{staticClass:"modal-header"},[s("h5",{staticClass:"modal-title"},[e._v("Edit Host")]),e._v(" "),s("button",{staticClass:"close",attrs:{type:"button"},on:{click:function(t){return e.$modal.close()}}},[s("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])])]),e._v(" "),e.$parent.state.password?e._e():s("div",{staticClass:"modal-body"},[s("div",{staticClass:"alert alert-danger"},[e._v("Internal password not set, please refresh the page.")])]),e._v(" "),e.$parent.state.password?s("form",{attrs:{"no-validate":""},on:{submit:function(t){return t.preventDefault(),e.submit(t)}}},[s("div",{staticClass:"modal-body"},[e.form.errors.global?s("div",[s("div",{staticClass:"alert alert-danger"},[e._v(e._s(e.form.errors.global))])]):e._e(),e._v(" "),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"input-name"}},[e._v("Name")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.form.values.name,expression:"form.values.name"}],staticClass:"form-control",class:["form-control",{"is-invalid":e.form.errors.name}],attrs:{type:"text",id:"input-name",placeholder:"Enter unique name for the host..."},domProps:{value:e.form.values.name},on:{input:function(t){t.target.composing||e.$set(e.form.values,"name",t.target.value)}}}),e._v(" "),e.form.errors.name?s("div",{staticClass:"invalid-feedback"},[e._v(e._s(e.form.errors.name))]):s("small",{staticClass:"form-text text-muted"})]),e._v(" "),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"input-url"}},[e._v("URL")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.form.values.url,expression:"form.values.url"}],staticClass:"form-control",class:["form-control",{"is-invalid":e.form.errors.url}],attrs:{type:"text",id:"input-url",placeholder:"Enter full url to the host. i.e: https://play.min.io:9000"},domProps:{value:e.form.values.url},on:{input:function(t){t.target.composing||e.$set(e.form.values,"url",t.target.value)}}}),e._v(" "),e.form.errors.url?s("div",{staticClass:"invalid-feedback"},[e._v(e._s(e.form.errors.url))]):s("small",{staticClass:"form-text text-muted"})]),e._v(" "),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"input-accessKey"}},[e._v("Access Key")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.form.values.accessKey,expression:"form.values.accessKey"}],staticClass:"form-control",class:["form-control",{"is-invalid":e.form.errors.accessKey}],attrs:{type:"text",id:"input-accessKey",placeholder:"Enter access key..."},domProps:{value:e.form.values.accessKey},on:{input:function(t){t.target.composing||e.$set(e.form.values,"accessKey",t.target.value)}}}),e._v(" "),e.form.errors.accessKey?s("div",{staticClass:"invalid-feedback"},[e._v(e._s(e.form.errors.accessKey))]):s("small",{staticClass:"form-text text-muted"})]),e._v(" "),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"input-accessSecret"}},[e._v("Access Secret")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.form.values.secretKey,expression:"form.values.secretKey"}],staticClass:"form-control",class:["form-control",{"is-invalid":e.form.errors.secretKey}],attrs:{type:"text",id:"input-secretKey",placeholder:"Enter access secret..."},domProps:{value:e.form.values.secretKey},on:{input:function(t){t.target.composing||e.$set(e.form.values,"secretKey",t.target.value)}}}),e._v(" "),e.form.errors.secretKey?s("div",{staticClass:"invalid-feedback"},[e._v(e._s(e.form.errors.secretKey))]):s("small",{staticClass:"form-text text-muted"})]),e._v(" "),s("p",{staticClass:"text-muted small bg-light rounded p-3"},[s("fa",{staticClass:"text-warning",attrs:{icon:"exclamation-triangle"}}),e._v(" These details are securely stored, in your browsers local storage. They are not sent anywhere and are used to make a direct S3 signed connection to the host. ")],1)]),e._v(" "),s("div",{staticClass:"modal-footer"},[s("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(t){return e.$modal.close()}}},[e._v("Close")]),e._v(" "),s("button",{staticClass:"btn btn-success",attrs:{type:"submit"}},[s("fa",{attrs:{icon:"save"}}),e._v(" Save ")],1)])]):e._e()])])])},staticRenderFns:[],_compiled:!0,_scopeId:"data-v-b1cd18",functional:void 0});})();
},{"crypto-js/aes":"Srb3","crypto-js/enc-utf8":"NlLc"}],"MqGS":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=o(require("crypto-js/aes")),e=o(require("crypto-js/enc-utf8")),s=o(require("../components/host/add-modal")),r=o(require("../components/host/edit-modal"));function o(t){return t&&t.__esModule?t:{default:t}}function n(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),s.push.apply(s,r)}return s}function a(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?n(Object(s),!0).forEach(function(e){i(t,e,s[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):n(Object(s)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}function i(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var c={name:"index",props:["state"],components:{},data:function(){return{alert:{}}},computed:{hosts:function(){return this.state.hosts}},beforeMount:function(){this.state.authenticated||this.$router.push("/login"),this.state.alert&&this.state.alert.message&&(this.alert=JSON.parse(JSON.stringify(this.state.alert)),delete this.state.alert)},methods:{open:function(t){this.alert={},this.$nextTick(function(){this.$router.push("/host/".concat(t))})},del:function(s){var r=this;this.$modal.show({title:"Delete Host?",text:"Are you sure you want to delete this host?",color:"bg-danger text-white",size:"modal-md",centered:!0,static:!0,buttons:[{title:"Yes",type:"btn-success",cb:function(o,n){try{var a=t.default.decrypt(localStorage.state,r.state.password).toString(e.default);delete(a=JSON.parse(a)).hosts[s],r.state.hosts=a.hosts,delete a.password,delete a.host,localStorage.state=t.default.encrypt(JSON.stringify(a),r.state.password).toString(),r.$snackbar.show({type:"bg-success text-white",message:"Host deleted!"})}catch(i){r.alert={type:"alert-danger",message:"An error occurred when deleting host, refresh the page and try again."}}r.$modal.close()}},{title:"No",type:"btn-danger",cb:function(t,e){r.$modal.close()}}]})},edit:function(t){this.$set(this.state,"host_editing",a({key:t,name:t},JSON.parse(JSON.stringify(this.state.hosts[t])))),this.$nextTick(function(){this.$modal.show({static:!0,component:r.default})})},add:function(){this.$modal.show({static:!0,component:s.default})}}};exports.default=c;
(function(){var t=exports.default||module.exports;"function"==typeof t&&(t=t.options),Object.assign(t,{render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return t.state.authenticated?e("article",{staticClass:"content container-fluid"},[e("section",[e("h1",{staticClass:"page-header"},[t._v("Hosts")]),t._v(" "),e("div",{staticClass:"mt-2"},[t.alert.type?e("div",{staticClass:"alert alert-dismissible fade show",class:t.alert.type,attrs:{role:"alert"}},[e("div",{domProps:{innerHTML:t._s(t.alert.message)}}),t._v(" "),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"alert","aria-label":"Close"},on:{click:function(s){t.alert={}}}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]):t._e(),t._v(" "),e("div",{staticClass:"bg-white table-responsive border border-top-0 rounded"},[e("table",{staticClass:"table table-sm"},[t._m(0),t._v(" "),e("tbody",[Object.keys(t.hosts).length?t._e():e("tr",[e("td",{attrs:{colspan:"2"}},[t._v(" No hosts to show. You can "),e("a",{attrs:{href:"javascript:void(0)"},on:{click:function(s){return t.add()}}},[t._v("add")]),t._v(" or "),t._m(1),t._v("hosts. ")])]),t._v(" "),t._l(t.hosts,function(s,a){return e("tr",{key:a},[e("th",{attrs:{scope:"row"}},[e("a",{attrs:{href:"javascript:void(0)"},on:{click:function(s){return t.open(a)}}},[t._v(t._s(a))])]),t._v(" "),e("td",{staticClass:"text-right"},[e("div",{staticClass:"d-inline-flex text-right"},[s.error?e("span",{staticClass:"p-1 mr-1 small text-muted",attrs:{title:s.error||""}},[e("fa",{staticClass:"text-warning",attrs:{icon:"exclamation-triangle"}})],1):t._e(),t._v(" "),e("a",{class:["btn btn-xxs btn-outline-danger mr-1"],attrs:{href:"javascript:void(0)"},on:{click:function(s){return t.del(a)}}},[e("fa",{staticClass:"d-none d-md-inline-block",attrs:{icon:"times"}}),t._v(" Delete ")],1),t._v(" "),e("a",{staticClass:"btn btn-xxs btn-outline-primary mr-1",attrs:{href:"javascript:void(0)"},on:{click:function(s){return t.edit(a)}}},[e("fa",{staticClass:"d-none d-md-inline-block",attrs:{icon:"pencil-alt"}}),t._v(" Edit ")],1)])])])})],2)])])])])]):t._e()},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("thead",[s("tr",[s("th",{attrs:{scope:"col"}},[this._v("Name")]),this._v(" "),s("th",{attrs:{scope:"col"}})])])},function(){var t=this.$createElement,s=this._self._c||t;return s("form",{attrs:{id:"import_form"}},[s("label",{staticClass:"link",staticStyle:{cursor:"pointer"},attrs:{for:"import_file"}},[this._v("import")]),this._v("  "),s("input",{attrs:{id:"import_file",name:"file",type:"file",accept:".json"}})])}],_compiled:!0,_scopeId:"data-v-cfb812",functional:void 0});})();
},{"crypto-js/aes":"Srb3","crypto-js/enc-utf8":"NlLc","../components/host/add-modal":"XLoW","../components/host/edit-modal":"lcci"}]},{},[], null)